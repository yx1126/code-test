<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        * {
            box-sizing: border-box;
        }

        .canvas-box {
            width: 1200px;
            height: 600px;
            border: 1px solid red;
            margin: 50px auto;
        }

        .canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div align="center">
        <button id="reset">重置</button>
    </div>
    <div style="height: 150px;" align="center">
        <div #123%>124</div>
        <div class="translate" style="line-height: 20px;"></div>
        <div class="scale" style="line-height: 20px;"></div>
    </div>
    <div class="canvas-box">
        <div class="canvas"></div>
    </div>
    <script src="./js/graph.js"></script>
    <script>
        const box = document.querySelector(".canvas");
        const url = "https://newoss.zhulong.com/tfs/pic/v1/tfs/T1NDY_B4Lv1RCvBVdK.jpg";
        const url2 = "https://gss0.baidu.com/7Po3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/3bf33a87e950352a817b07555243fbf2b2118b50.jpg";

        const instance = new Graph(box, {
            url: url,
            center: true,
            minScale: 0.5,
            maxScale: 4,
            step: 0.1,
            readonly: false
        });
        console.log(instance);
        instance.$on("click", (e) => {
            console.log("c", e);
        })
        const reset = document.querySelector("#reset");
        reset.addEventListener("click", (e) => {
            // console.log("click", e);
            instance.$emit("click", e);
        })
        const SVG_ATTRS = {
            xmlns: "http://www.w3.org/2000/svg",
            "xmlns:xlink": "http://www.w3.org/1999/xlink",
            style: "position: absolute; width: 0; height: 0",
        };

        if (typeof window !== 'undefined') {
            function loadSvg() {
                var svg = document.getElementById("${options.SVG_DOM_ID}");
                if (!svg) {
                    svg = document.createElementNS(SVG_ATTRS["xmlns"], "svg");
                    svg.style.position = "absolute";
                    svg.style.width = "0";
                    svg.style.height = "0";
                    svg.setAttribute("id", "${options.SVG_DOM_ID}");
                    svg.setAttribute("xmlns", SVG_ATTRS["xmlns"]);
                    svg.setAttribute("xmlns:xlink", SVG_ATTRS["xmlns:xlink"]);
                    svg.innerHTML = "";
                    document.body.insertBefore(svg, document.body.firstChild);
                } else {
                    svg.innerHTML = "";
                }
            }
            if (document.readyState === "loading") {
                document.addEventListener("DOMContentLoaded", loadSvg);
            } else {
                loadSvg();
            }
        }
    </script>
</body>


</html>